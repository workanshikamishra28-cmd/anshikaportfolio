# Deployment Guide - Anshika Portfolio

## âœ… Fixed Issues

### Issue 1: Git Submodule Error
**Problem**: `fatal: No url found for submodule path 'sanity-studio' in .gitmodules`

**Solution**: Removed the broken submodule and added `sanity-studio` as a regular directory.

### Issue 2: Build Command Error
**Problem**: `vite: not found` - Dependencies weren't being installed before build.

**Solution**: Updated `netlify.toml` to include `npm install` in the build command.

## ğŸš€ Netlify Deployment Steps

### 1. Connect Repository
1. Log in to [Netlify](https://app.netlify.com/)
2. Click "Add new site" â†’ "Import an existing project"
3. Choose "Deploy with GitHub"
4. Select repository: `workanshikamishra28-cmd/anshikaportfolio`
5. Authorize Netlify to access the repository

### 2. Build Settings (Auto-configured via netlify.toml)
The `netlify.toml` file already contains all necessary settings:

```toml
[build]
  command = "npm install && npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "18"
  NPM_FLAGS = "--legacy-peer-deps"
```

**You don't need to configure anything manually!** Just click "Deploy site"

### 3. Environment Variables (Optional)
No environment variables are required for basic deployment since Sanity is configured for public read access.

If you need to add authenticated Sanity access later:
1. Go to Site settings â†’ Environment variables
2. Add: `VITE_SANITY_PROJECT_ID` = `7yt3l4pv`
3. Add: `VITE_SANITY_DATASET` = `production`
4. Add: `VITE_SANITY_API_TOKEN` = `your-token-here` (if needed)

### 4. Deploy
1. Click "Deploy site"
2. Wait for the build to complete (usually 2-3 minutes)
3. Your site will be live at: `https://random-name-123456.netlify.app`

### 5. Custom Domain (Optional)
1. Go to Site settings â†’ Domain management
2. Click "Add custom domain"
3. Follow the instructions to configure DNS

## ğŸ“‹ Build Configuration Details

### Build Command
```bash
npm install && npm run build
```
- Installs all dependencies
- Runs Vite build process
- Outputs to `dist` folder

### Publish Directory
```
dist
```
- Contains the production-ready static files
- Generated by Vite build

### Node Version
```
18
```
- Ensures compatibility with all dependencies

### Redirects
```
/* â†’ /index.html (200)
```
- Enables client-side routing for React Router
- All routes are handled by the SPA

## ğŸ” Troubleshooting

### Build Fails with "Module not found"
**Solution**: The build command includes `npm install`, so this shouldn't happen. If it does:
1. Check that `package.json` is committed
2. Verify `package-lock.json` is committed
3. Clear Netlify cache: Site settings â†’ Build & deploy â†’ Clear cache and retry deploy

### Build Succeeds but Site Shows 404
**Solution**: Check that:
1. Publish directory is set to `dist`
2. Redirects are configured (already in netlify.toml)
3. `index.html` exists in the dist folder after build

### Sanity Content Not Loading
**Solution**: 
1. Verify Sanity project ID is correct: `7yt3l4pv`
2. Check that Sanity dataset is published
3. Ensure CORS is configured in Sanity dashboard to allow your Netlify domain

### Images Not Loading
**Solution**:
1. Check that images are in the `public` folder
2. Verify image paths are correct (should start with `/`)
3. For Sanity images, ensure the image URL builder is working

## ğŸ¯ Post-Deployment Checklist

- [ ] Site loads successfully
- [ ] All pages are accessible
- [ ] Mobile responsive design works
- [ ] Project carousel functions on mobile
- [ ] AnshikaOS opens and works
- [ ] Images load correctly
- [ ] Animations play smoothly
- [ ] Contact form displays (even if not functional yet)
- [ ] Sanity content loads (if configured)

## ğŸ”„ Continuous Deployment

Netlify automatically deploys when you push to the `main` branch:

```bash
git add .
git commit -m "Your commit message"
git push origin main
```

The site will rebuild and deploy automatically within 2-3 minutes.

## ğŸ“Š Build Status

You can monitor builds at:
- Netlify Dashboard â†’ Deploys
- Build logs show detailed information
- Failed builds show error messages

## ğŸŒ Production URL

After deployment, your site will be available at:
- **Netlify subdomain**: `https://your-site-name.netlify.app`
- **Custom domain** (if configured): `https://yourdomain.com`

## ğŸ“ Notes

- First build may take longer (3-5 minutes)
- Subsequent builds are faster (1-2 minutes)
- Build cache is used for faster deployments
- Node modules are cached between builds
- Sanity content updates don't require redeployment

## ğŸ¨ Features Deployed

âœ… Mobile-responsive design
âœ… Project carousel on mobile
âœ… AnshikaOS with full functionality
âœ… Smooth animations and transitions
âœ… Touch-optimized interactions
âœ… SEO-friendly meta tags
âœ… Favicon and social media previews
âœ… Fast loading with Vite optimization

## ğŸš¨ Important Files

Do not delete these files:
- `netlify.toml` - Deployment configuration
- `package.json` - Dependencies
- `package-lock.json` - Dependency lock file
- `vite.config.ts` - Build configuration
- `index.html` - Entry point
- `public/` folder - Static assets

## ğŸ“ Support

If you encounter issues:
1. Check Netlify build logs
2. Review this guide
3. Check Netlify documentation: https://docs.netlify.com
4. Contact Netlify support if needed

---

**Last Updated**: November 25, 2025
**Repository**: https://github.com/workanshikamishra28-cmd/anshikaportfolio
**Deployment Platform**: Netlify
